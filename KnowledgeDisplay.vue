<template>
  <template v-if = "collapsed">
    <p class="summary-text">üëâ ÁÇπÂáªÊü•Áúã Direct ËØ¶ÁªÜ‰ø°ÊÅØ</p>
  </template>
  <template v-else>
	<div style="width: 100%; min-width:1200px; display: flex; flex-direction: row">
		<el-card style="width: 99%; height: 98%; background-color: #1F2932">
      <div style="display: flex; width: 100%">
        <!--    Â∑¶‰æßÈÄâÈ°πÂç°    -->
        <el-card class="card-class" style="width: 20%" shadow="never">
          <div style="display: flex; flex-direction: column; align-items: center">
            <el-radio-group v-model="showWayRadio">
              <el-radio-button label="0" class="radio-btn left-radio-btn">
                Êï¥‰ΩìÊü•Áúã
              </el-radio-button>
              <el-radio-button label="1" class="radio-btn">
                ËäÇÁÇπÁ≠õÈÄâ
              </el-radio-button>
            </el-radio-group>
            <el-select v-model="individualSelection" filterable
                       class="select-class input-class"
                       :prefix-icon="Search"
                       style="margin: 1rem 0 8px 0"
                       v-if="showWayRadio === '1'">
              <el-option
                  v-for="(item, index) in individualOption"
                  :key="index" :value="item.value" :label="item.label"/>
            </el-select>
            <el-tabs v-model="baseActiveName" stretch @tab-click="handleClick"
                     style="width: 100%; color: #fff" class="narrow-tab">
              <el-tab-pane label="Áü•ËØÜÂ∫ì" name="0">
                <div style="display: flex; flex-direction: column; width: 100%">
                  <el-card class="click-item-card"
                           :class="itemCardSelection === index ? 'click-item-card-selected' : 'click-item-card-unselected'"
                           v-for="(item, index) in itemCard"
                           @click="itemCardClick(index)">
                    <div class="click-item-card-content">
                      <div style="font-weight: bold">{{item.title}}</div>
                      <div style="font-size: 12px; margin-top: 2px">{{item.subtitle}}</div>
                    </div>
                  </el-card>
                </div>
              </el-tab-pane>
              <el-tab-pane label="ÁéØÂ¢ÉÂ∫ì" name="1">
                <div style="display: flex; flex-direction: column; width: 100%">
                  <el-card class="click-item-card"
                           :class="itemCardSelection === index ? 'click-item-card-selected' : 'click-item-card-unselected'"
                           v-for="(item, index) in itemCard"
                           @click="itemCardClick(index)" v-show="index > 1">
                    <div class="click-item-card-content">
                      <div style="font-weight: bold">{{item.title}}</div>
                      <div style="font-size: 12px; margin-top: 2px">{{item.subtitle}}</div>
                    </div>
                  </el-card>
                </div>
              </el-tab-pane>
              <el-tab-pane label="ËßÑÂàôÂ∫ì" name="2">
                <div style="display: flex; flex-direction: column; width: 100%">
                  <el-card class="click-item-card"
                           :class="itemCardSelection === index ? 'click-item-card-selected' : 'click-item-card-unselected'"
                           v-for="(item, index) in itemCard"
                           @click="itemCardClick(index)" v-show="index > 1">
                    <div class="click-item-card-content">
                      <div style="font-weight: bold">{{item.title}}</div>
                      <div style="font-size: 12px; margin-top: 2px">{{item.subtitle}}</div>
                    </div>
                  </el-card>
                </div>
              </el-tab-pane>
            </el-tabs>
            <el-button type="primary" @click="checkIndividualData()"
                       class="query-btn" style="width: 100%; margin-top: 1rem">Êü•Áúã</el-button>
          </div>
        </el-card>
        <!--    Áü•ËØÜÂ∫ì     -->
        <div style="display: flex; width: 80%">
          <!--    ‰∏≠Èó¥Áü•ËØÜÂ∫ì    -->
          <div style="display: flex; flex-direction: column; width: 60%; margin: 0 1%">
            <!--     Âü∫Êú¨‰ø°ÊÅØ     -->
            <el-card class="card-class" style="width: 100%; height: 250px;">
              <div class="card-header" style="margin-top: -20px">
  <!--              <img src="../../assets/images/flags/flag-America.png" style="height: 20px; width: 35px" alt="flag"/>-->
                <span style="margin-left: 5px">{{ individualInfo.name }}</span>
              </div>
              <el-tabs v-model="activeName" type="card" @tab-click="handleClick" class="el-tabs-item-card" style="width: calc(100% + 40px); margin-left: -20px">
                <el-tab-pane label="ÂüéÂ∏ÇÂÜÖÊ∂ùÊàêÂõ†" name="ÂüéÂ∏ÇÂÜÖÊ∂ùÊàêÂõ†">
                  <div class="card-body">
                    {{ individualInfo.basicInfo }}
                  </div>
                </el-tab-pane>
                <el-tab-pane label="‰∫îÂ§ßÂΩ±ÂìçÂõ†Á¥†" name="‰∫îÂ§ßÂΩ±ÂìçÂõ†Á¥†">
                  <div class="card-body">
                    {{ individualInfo.relatedInfo }}
                  </div>
                </el-tab-pane>
              </el-tabs>
            </el-card>
            <!--     Áü•ËØÜÂ∫ì     -->
            <el-card class="card-class" style="width: 100%; height: 500px; margin-top: 1rem" shadow="never">
              <div style="display: flex; width: 100%; flex-direction: column; position: relative; margin-top: -20px;">
                <!--   È°∂ÈÉ®Ê†áÁ≠æ&ÊåâÈíÆ    -->
                <div class="card-header" style="align-items: center; padding: 0; height: 40px">
                  <el-tabs v-model="showWayActiveName" type="card" @tab-click="showWayTabsChange"
                           class="el-tabs-item-card" style="width: 100%; height: 100%">
                    <el-tab-pane label="Áü•ËØÜÂõæË∞±" name="Áü•ËØÜÂõæË∞±"></el-tab-pane>
                    <el-tab-pane label="Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉ" name="Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉ"></el-tab-pane>
                    <el-tab-pane label="Â∫îÊÄ•È¢ÑÊ°à" name="Â∫îÊÄ•È¢ÑÊ°à"></el-tab-pane>
                  </el-tabs>
  <!--                <el-radio-group v-model="modelRadio" @change="radioChange">-->
  <!--                  <el-radio-button label="Áü•ËØÜÂõæË∞±" class="radio-btn left-radio-btn"/>-->
  <!--                  <el-radio-button label="Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉ" class="radio-btn"/>-->
  <!--                  <el-radio-button label="Â∫îÊÄ•È¢ÑÊ°à" class="radio-btn"/>-->
  <!--                </el-radio-group>-->
                </div>
                <!--   ‰∏ª‰ΩìÂÜÖÂÆπ    -->
                <div style="display: flex; width: 100%" v-loading="cardLoading">
                  <!--     Áü•ËØÜÂõæË∞±     -->
                  <div id="knowledgeMapChart" style="width: 100%; height: 430px" v-if="modelRadio === 'Áü•ËØÜÂõæË∞±'">
                    
                  </div>
                  <!-- Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉÔºàÊîπ‰∏∫ doc1 ÁöÑ PDF ÈôàÂàóÔºâ -->
<div style="display: flex; flex-direction: column; width: 100%" v-if="modelRadio === 'Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉ'">
  <el-scrollbar max-height="430px" style="width: 100%;">
    <el-card style="background-color: #2D3F4D;" v-for="(pdf, index) in doc1Pdfs" :key="index" class="pdf-card" @click="openPdfDialog(pdf.path)">
      <div style="display: flex; align-items: center;">
        <el-icon style="font-size: 24px; margin-right: 10px; font-family:Arial, Helvetica, sans-serif;"><Document /></el-icon>
        <span style="color: darkgray;">{{ pdf.name }}</span>
      </div>
    </el-card>
  </el-scrollbar>
</div>
<!-- Â∫îÊÄ•È¢ÑÊ°àÔºàÊîπ‰∏∫ doc2 ÁöÑ PDF ÈôàÂàóÔºâ -->
<div style="display: flex; flex-direction: column; width: 100%;" v-if="modelRadio === 'Â∫îÊÄ•È¢ÑÊ°à'">
  <el-scrollbar max-height="430px" style="width: 100%;">
    <el-card style="background-color: #2D3F4D;" v-for="(pdf, index) in doc2Pdfs" :key="index" class="pdf-card" @click="openPdfDialog(pdf.path)">
      <div style="display: flex; align-items: center;">
        <el-icon style="font-size: 24px; margin-right: 10px;"><Document /></el-icon>
        <span style="color: darkgray;">{{ pdf.name }}</span>
      </div>
    </el-card>
  </el-scrollbar>
</div>

<!-- PDF È¢ÑËßàÂºπÁ™ó -->
<el-dialog v-model="pdfDialogVisible" title="PDF È¢ÑËßà" width="80%" :before-close="handleClose">
  <iframe :src="selectedPdfPath" style="width: 100%; height: 500px; border: none;"></iframe>
</el-dialog>
                </div>
              </div>
            </el-card>
          </div>
          <!--    Âè≥‰æß‰∏™‰Ωì‰ø°ÊÅØ    -->
          <el-card class="card-class" style="width: 38%;" shadow="never">
  <div style="display: flex; flex-direction: column; width: 100%">
    <div style="width: 100%; display: flex; flex-direction: column; align-items: center">
      <img :src="individualInfo.imgUrl" style="height: 150px;" alt="Urban Flooding"/>
      <div style="width: 100%; display: flex; flex-direction: column; margin-top: 1rem">
        <div class="card-header">ÂÜÖÊ∂ùÊ¶ÇÂÜµ</div>
        <div>
          <el-scrollbar  max-height="470px">
            <el-descriptions style="background-color: darkgray;" class="descriptions-class" :column="1" size="normal" border>
              <el-descriptions-item  label="ÂÜÖÊ∂ùÁ≠âÁ∫ß">
                ‚Ö¢Á∫ßÔºà‰∏≠ÂûãÂÜÖÊ∂ùÔºâ
              </el-descriptions-item>
              <el-descriptions-item label="ÂèëÁîüÂå∫Âüü">
                Âåó‰∫¨Â∏ÇÊµ∑Ê∑ÄÂå∫ÊàêÂ∫úË∑Ø‰∏éÁéãÂ∫ÑË∑Ø‰∫§ÂèâÂè£
              </el-descriptions-item>
              <el-descriptions-item label="Ëß¶ÂèëÈõ®Èáè">
                72mm/hÔºà3Â∞èÊó∂Á¥ØËÆ°Ôºâ
              </el-descriptions-item>
              <el-descriptions-item label="ÊéíÊ∞¥Á≥ªÁªü">
                Âú∞‰∏ãÁÆ°ÁΩëÊéíÊ∞¥ËÉΩÂäõÔºö42m¬≥/s
              </el-descriptions-item>
              <el-descriptions-item label="ÁßØÊ∞¥ÁâπÂæÅ">
                ÊúÄÂ§ßÊ∑±Â∫¶Ôºö0.65m ‚îÇ ÂΩ±ÂìçËåÉÂõ¥Ôºö800m√ó300m
              </el-descriptions-item>
              <el-descriptions-item label="Â§ÑÁΩÆÁ≠ñÁï•">
                ‰ºòÂÖàÂºÄÊîæ‰∏ãÂáπÂºèÁªøÂú∞ËìÑÊªû + ÁßªÂä®Ê≥µËΩ¶Âº∫Êéí
              </el-descriptions-item>
              <el-descriptions-item label="ÂìçÂ∫îÁ≠âÁ∫ß">
                Â∏ÇÁ∫ßÈò≤Ê±õ‚Ö°Á∫ßÂìçÂ∫î
              </el-descriptions-item>
              <el-descriptions-item label="Â§ÑÁΩÆÊó∂Èó¥">
                2025-07-20 14:30~19:45
              </el-descriptions-item>
              <el-descriptions-item label="ÂΩ±ÂìçËåÉÂõ¥">
                Â∞ÅÊéßÈÅìË∑Ø3Êù° ‚îÇ ËΩ¨ÁßªÂïÜÊà∑58ÂÆ∂ ‚îÇ ÂèóÂõ∞ËΩ¶ËæÜ32ËæÜ
              </el-descriptions-item>
              <el-descriptions-item label="Â§ÑÁΩÆÊïàÊûú">
                ÁßØÊ∞¥Ê∂àÈÄÄÈÄüÂ∫¶Ôºö25cm/h ‚îÇ ‰∫§ÈÄöÊÅ¢Â§çÊó∂Èó¥Ôºö<6Â∞èÊó∂
              </el-descriptions-item>
              <el-descriptions-item label="‰∏ìÂÆ∂ËØÑ‰ª∑">
                ÂàõÊñ∞Â∫îÁî®AIÊ∞¥‰ΩçÈ¢ÑÊµãÊ®°ÂûãÔºåÊ≥µËΩ¶ÈÉ®ÁΩ≤ÂÆö‰ΩçËØØÂ∑Æ<3m
              </el-descriptions-item>
              <el-descriptions-item label="Á©∫Èó¥ÂùêÊ†á">
                116.337¬∞E, 39.992¬∞N
              </el-descriptions-item>
              <el-descriptions-item label="Ê∞îË±°Ê∫ØÊ∫ê">
                Âè∞È£é"ÊùúËãèËäÆ"Â§ñÂõ¥‰∫ëÁ≥ªÂºïÂèëÊûÅÁ´ØÂº∫ÂØπÊµÅÂ§©Ê∞î
              </el-descriptions-item>
            </el-descriptions>
            <!-- Â§ÑÁΩÆÊïàËÉΩÁü©Èòµ -->
            <div style="margin-top: 1rem;">
              <div style="font-weight: bold; margin-bottom: 0.5rem;">Â§ÑÁΩÆÊïàËÉΩÁü©Èòµ</div>
              <el-table :data="efficiencyMatrix" border style="width: 100%;">
                <el-table-column prop="indicator" label="ÊåáÊ†á" />
                <el-table-column prop="standard" label="Ê†áÂáÜÂÄº" />
                <el-table-column prop="actual" label="ÂÆûÈôÖÂÄº" />
                <el-table-column prop="achievement" label="ËææÊàêÁéá" />
              </el-table>
            </div>
          </el-scrollbar>
        </div>
      </div>
    </div>
  </div>
</el-card>
        </div>
        <!--    ÁéØÂ¢ÉÂ∫ì     -->
        <div style="display: flex; width: 80%" v-if="false"></div>
        <!--    ËßÑÂàôÂ∫ì     -->
        <div style="display: flex; width: 80%" v-if="false"></div>
      </div>
		</el-card>
	
  </div>
</template>
</template>

<script>
import request from "../../utils/request";
import * as echarts from "echarts";
import {ref} from "vue";
import { Document } from "@element-plus/icons-vue"; // ÂØºÂÖ• Document ÂõæÊ†á
import {Paperclip, Search, UploadFilled} from "@element-plus/icons";

export default {
	name: "PowerGame_knowledgeDisplay",
  components: { Document }, // Ê≥®ÂÜå Document ÂõæÊ†á
  computed: {
    Search() {
      return Search
    }
  },
  components: {Paperclip, UploadFilled},
	setup() {
  const cardLoading = ref(true)
  const modelRadio = ref("Áü•ËØÜÂõæË∞±")
  const pdfDialogVisible = ref(false); // ÂºπÁ™óÂèØËßÅÊÄß
    const selectedPdfPath = ref(""); // ÈÄâ‰∏≠ÁöÑ PDF Ë∑ØÂæÑ

    // PDF Êñá‰ª∂ÂàóË°®ÔºàÂÅáËÆæËøô‰∫õÊòØÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂Ôºâ
    const doc1Pdfs = ref([
      { name: "‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÈò≤Ê±õÊù°‰æã.pdf", path: "/doc1/‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÈò≤Ê±õÊù°‰æã.pdf" },
      { name: "‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÈò≤Ê¥™Ê≥ï.pdf", path: "/doc1/‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÈò≤Ê¥™Ê≥ï.pdf" },
      { name: "ÂüéÂ∏ÇËßÑÂàíÁºñÂà∂ÂäûÊ≥ï.pdf", path: "/doc1/ÂüéÂ∏ÇËßÑÂàíÁºñÂà∂ÂäûÊ≥ï.pdf" },
      { name: "ÂüéÂ∏ÇÈªÑÁ∫øÁÆ°ÁêÜÂäûÊ≥ï.pdf", path: "/doc1/ÂüéÂ∏ÇÈªÑÁ∫øÁÆ°ÁêÜÂäûÊ≥ï.pdf" },
      { name: "ÂüéÂ∏ÇËìùÁ∫øÁÆ°ÁêÜÂäûÊ≥ï.pdf", path: "/doc1/ÂüéÂ∏ÇËìùÁ∫øÁÆ°ÁêÜÂäûÊ≥ï.pdf" },
      { name: "ÂõΩÂä°Èô¢ÂäûÂÖ¨ÂéÖÂÖ≥‰∫éÂä†Âº∫ÂüéÂ∏Ç.pdf", path: "/doc1/ÂõΩÂä°Èô¢ÂäûÂÖ¨ÂéÖÂÖ≥‰∫éÂä†Âº∫ÂüéÂ∏Ç.pdf" },
      { name: "Ê∞¥Âà©ÈÉ®ÈáçÂ§ßÊ∞¥Êó±ÁÅæÂÆ≥‰∫ã‰ª∂Ë∞ÉÂ∫¶ÊåáÊå•Êú∫Âà∂.pdf", path: "/doc1/Ê∞¥Âà©ÈÉ®ÈáçÂ§ßÊ∞¥Êó±ÁÅæÂÆ≥‰∫ã‰ª∂Ë∞ÉÂ∫¶ÊåáÊå•Êú∫Âà∂.pdf" },
    ]);
    const doc2Pdfs = ref([
      { name: "Â§©Ê¥•Â∏ÇÈò≤Ê¥™Ë∞ÉÂ∫¶Â∫îÊÄ•ÊåáÊå•Âπ≥Âè∞Âª∫ËÆæÂÆûË∑µ_ÊùéÂå°.pdf", path: "/doc2/Â§©Ê¥•Â∏ÇÈò≤Ê¥™Ë∞ÉÂ∫¶Â∫îÊÄ•ÊåáÊå•Âπ≥Âè∞Âª∫ËÆæÂÆûË∑µ_ÊùéÂå°.pdf" },
      { name: "Á™ÅÂèëÊ¥™Ê∂ùÁÅæÂÆ≥Â∫îÊÄ•ÁÆ°ÁêÜÊ°ÜÊû∂Á†î...Â∏ÇÂÜÖÊ∂ù‰∏éÂ±±Ê¥™ÁöÑÂÖ∏ÂûãÊ°à‰æãÂàÜÊûê_ËñõÂÜõ.pdf", path: "/doc2/Á™ÅÂèëÊ¥™Ê∂ùÁÅæÂÆ≥Â∫îÊÄ•ÁÆ°ÁêÜÊ°ÜÊû∂Á†î...Â∏ÇÂÜÖÊ∂ù‰∏éÂ±±Ê¥™ÁöÑÂÖ∏ÂûãÊ°à‰æãÂàÜÊûê_ËñõÂÜõ.pdf" },
      { name: "‰∫¨Ê¥•ÂÜÄÊûÅÁ´ØÈôçÊ∞¥Êó∂Á©∫ÂàÜÂ∏ÉÁâπÂæÅÂèäÂÖ∂ÂØπÂüéÂ∏ÇÊéíÊ∞¥ÂéãÂäõÁöÑÂΩ±Âìç_Â¥î‰∏πÈò≥.pdf", path: "/doc2/‰∫¨Ê¥•ÂÜÄÊûÅÁ´ØÈôçÊ∞¥Êó∂Á©∫ÂàÜÂ∏ÉÁâπÂæÅÂèäÂÖ∂ÂØπÂüéÂ∏ÇÊéíÊ∞¥ÂéãÂäõÁöÑÂΩ±Âìç_Â¥î‰∏πÈò≥.pdf" },
      { name: "ÂÜúÊûóÈÉ®ÈÉ®ÈïøÊ≤ôÈ£éÂú®ÊäóÂáªÊ≤≥ÂçóÈ©ªÈ©¨Â∫ó‚Äú75¬∑8‚ÄùÊ∞¥ÁÅæ‰∏≠_ÊùéÈáëÊòé.pdf", path: "/doc2/ÂÜúÊûóÈÉ®ÈÉ®ÈïøÊ≤ôÈ£éÂú®ÊäóÂáªÊ≤≥ÂçóÈ©ªÈ©¨Â∫ó‚Äú75¬∑8‚ÄùÊ∞¥ÁÅæ‰∏≠_ÊùéÈáëÊòé.pdf" },
      { name: "Âπ≥ÊÄ•‰∏§Áî®ÂÜÖÊ∂ùÈò≤Ê≤ªËÆæÊñΩËßÑÂàíÊé¢Á¥¢_ÂàòÊ±üÊ∂õ.pdf", path: "/doc2/Âπ≥ÊÄ•‰∏§Áî®ÂÜÖÊ∂ùÈò≤Ê≤ªËÆæÊñΩËßÑÂàíÊé¢Á¥¢_ÂàòÊ±üÊ∂õ.pdf" },
      { name: "ËÆ©ÂüéÂ∏ÇÂëäÂà´‚ÄúÁúãÊµ∑‚ÄùÁé∞Ë±°.pdf", path: "/doc2/ËÆ©ÂüéÂ∏ÇÂëäÂà´‚ÄúÁúãÊµ∑‚ÄùÁé∞Ë±°.pdf" },
      { name: "ÈüßÊÄßÂüéÂ∏ÇËßÜËßí‰∏ãÂüéÂ∏ÇÂÜÖÊ∂ùÈò≤Ê≤ª...Â∑û‚Äú5¬∑22‚ÄùÁâπÂ§ßÊö¥Èõ®‰∏∫‰æã_Â∞πÊù•Áõõ.pdf", path: "/doc2/ÈüßÊÄßÂüéÂ∏ÇËßÜËßí‰∏ãÂüéÂ∏ÇÂÜÖÊ∂ùÈò≤Ê≤ª...Â∑û‚Äú5¬∑22‚ÄùÁâπÂ§ßÊö¥Èõ®‰∏∫‰æã_Â∞πÊù•Áõõ.pdf" },
      { name: "Áü≥ÂÆ∂Â∫ÑÂ∏ÇÂüéÂ∏ÇÊ∞¥Á≥ªÊô∫ÊÖßÁÆ°ÊéßÂπ≥Âè∞ÊûÑÂª∫‰∏éÂ∫îÁî®_Èü¶Ëâ≥Á∫¢.pdf", path: "/doc2/Áü≥ÂÆ∂Â∫ÑÂ∏ÇÂüéÂ∏ÇÊ∞¥Á≥ªÊô∫ÊÖßÁÆ°ÊéßÂπ≥Âè∞ÊûÑÂª∫‰∏éÂ∫îÁî®_Èü¶Ëâ≥Á∫¢.pdf" },
    ]);
  const sliderValue = ref([1959, 1962])
  const marks = ({
    1959: '1959',
    1960: '1960',
    1961: '1961',
    1970: '1970',
  })
  const showWayRadio = ref('1')
  const individualSelection = ref()
  const baseActiveName = ref('0')
  const activeName = ref('ÂüéÂ∏ÇÂÜÖÊ∂ùÊàêÂõ†')
  const showWayActiveName = ref('Áü•ËØÜÂõæË∞±')
  const efficiencyMatrix = ref([
    { indicator: 'ÂìçÂ∫îÊó∂Èó¥', standard: '30min', actual: '22min', achievement: '135%' },
    { indicator: 'ÊéíÊ∞¥ÊïàÁéá', standard: '20cm/h', actual: '25cm/h', achievement: '125%' },
    { indicator: '‰∫∫ÂëòÁñèÊï£', standard: '4Â∞èÊó∂', actual: '3.2Â∞èÊó∂', achievement: '120%' },
  ])
  return {
    cardLoading, modelRadio, sliderValue, marks, showWayRadio,
    individualSelection, baseActiveName, activeName, showWayActiveName,
    efficiencyMatrix, doc1Pdfs, doc2Pdfs, pdfDialogVisible, selectedPdfPath,
  }
},
	data(){
		return{
			knowledgeMapChart: null,
			knowledgeMapOption: null,
			knowledgeMapData: [],
			knowledgeMapLinks: [],
      originalData: [
        [
          {head: "1959Âπ¥Âè§Â∑¥Èù©ÂëΩËÉúÂà©", tail: "Ë¥πÂæ∑Â∞î¬∑Âç°ÊñØÁâπÁΩó", content: "È¢ÜÂØºÈù©ÂëΩ", timestamp: "1959-01-01"},
          {head: "Ë¥πÂæ∑Â∞î¬∑Âç°ÊñØÁâπÁΩó", tail: "Âè§Â∑¥ÂÖ±ÂíåÂõΩ", content: "Âª∫Á´ãÁ§æ‰ºö‰∏ª‰πâÊîøÊùÉ", timestamp: "1959-01-01"}
        ],
        [
          {head: "ÁæéÂõΩ", tail: "Âè§Â∑¥ÂÖ±ÂíåÂõΩ", content: "Êñ≠‰∫§Âπ∂ÂÆûÊñΩÁªèÊµéÂà∂Ë£Å", timestamp: "1961-01-03"},
          {head: "ÁæéÂõΩ", tail: "Âè§Â∑¥ÂÖ±ÂíåÂõΩ", content: "Áå™ÊπæÂÖ•‰æµÂ§±Ë¥•", timestamp: "1961-04-17"}
        ],
        [
          {head: "Ëµ´È≤ÅÊôìÂ§´", tail: "Ë¥πÂæ∑Â∞î¬∑Âç°ÊñØÁâπÁΩó", content: "ÁßòÂØÜÂçèËÆÆÈÉ®ÁΩ≤ÂØºÂºπ", timestamp: "1962-07"},
          {head: "ËãèËÅî", tail: "Âè§Â∑¥", content: "ËøêÈÄÅ‰∏≠Á®ãÂØºÂºπÂíåÂÜõ‰∫ã‰∫∫Âëò", timestamp: "1962-07-01"},
          {head: "ÁæéÂõΩ‰∏≠Â§ÆÊÉÖÊä•Â±Ä", tail: "ËãèËÅîÂú®Âè§Â∑¥ÁöÑÂØºÂºπÂü∫Âú∞", content: "ÈÄöËøáU-2‰æ¶ÂØüÊú∫ÂèëÁé∞", timestamp: "1962-10-14"},
          {head: "Á∫¶Áø∞¬∑F¬∑ËÇØÂ∞ºËø™", tail: "ÁæéÂõΩ", content: "ÂÆ£Â∏ÉÂØπÂè§Â∑¥ÂÆûÊñΩÊµ∑‰∏äÈöîÁ¶ª", timestamp: "1962-10-22"},
          {head: "ÁæéÊ¥≤ÂõΩÂÆ∂ÁªÑÁªá", tail: "ÁæéÂõΩ", content: "ÊîØÊåÅÂØπÂè§Â∑¥ÁöÑÈöîÁ¶ªË°åÂä®", timestamp: "1962-10-23"},
          {head: "Ëµ´È≤ÅÊôìÂ§´", tail: "Á∫¶Áø∞¬∑F¬∑ËÇØÂ∞ºËø™", content: "ÊèêÂá∫Êí§Èô§ÂØºÂºπÁöÑÊù°‰ª∂", timestamp: "1962-10-26"},
          {head: "ËãèËÅî", tail: "Âè§Â∑¥", content: "ÂÆ£Â∏ÉÊí§Èô§ÂØºÂºπ", timestamp: "1962-10-28"},
          {head: "ÁæéÂõΩ", tail: "ÂúüËÄ≥ÂÖ∂", content: "ÂêåÊÑèÊí§Èô§Êú±Â∫áÁâπÂØºÂºπ", timestamp: "1962-10-28"},
          {head: "ËãèËÅî", tail: "Âè§Â∑¥", content: "ÂØºÂºπÊí§Á¶ªÂÆåÊàê", timestamp: "1962-11-20"},
          {head: "ÁæéÂõΩ", tail: "Âè§Â∑¥", content: "ÁªìÊùüÂØπÂè§Â∑¥ÁöÑÊµ∑‰∏äÂ∞ÅÈîÅ", timestamp: "1962-11-20"}
        ]
      ],
      data: [
        [
          {timestamp: '1900/4/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1900/4/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1900/4/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
        ],
        [
          {timestamp: '1917/4/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1917/5/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1917/6/30', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
        ],
        [
          {timestamp: '1935/2/01', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1935/6/21', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1935/12/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
        ],
        [
          {timestamp: '1935/2/01', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1935/6/21', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1935/12/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
        ],
        [
          {timestamp: '1935/2/01', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1935/6/21', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
          {timestamp: '1935/12/12', head: 'aaaa', tail: 'bbbb', content: 'ccccc'},
        ],
      ],

      imgUrl: [
        require('../../assets/images/flags/flag-America.png'),
        require('../../assets/images/flags/flag-Russia.png'),
        require('../../assets/images/flags/flag-Cuba.png'),
      ],
      sequenceChart: null,
      sequenceOption: {},
      sequenceData: [],
      dataImportDialog: false,
      individualOption: [
        {label: 'ËÇØÂ∞ºËø™', value: 0},
        {label: 'Á∫¶Áø∞¬∑C¬∑ÈòøÂ•éÈáåËØ∫', value: 1},
        {label: 'Ëµ´È≤ÅÊôìÂ§´', value: 2},
        {label: 'È™ëÊâãÂº†‰∏â', value: 3},
      ],

      itemCardSelection: 0,
      itemCard: [
        {title: 'Âè§Â∑¥ÂØºÂºπÂç±Êú∫', subtitle: 'Áü•ËØÜÂ∫ì'},
        {title: 'Êô∫ÊÖßÂüéÂ∏Ç', subtitle: 'Áü•ËØÜÂ∫ì'},
        {title: '‰øÑ‰πåÊàò‰∫â', subtitle: 'Áü•ËØÜÂ∫ì'},
        {title: 'ÁæéÊúùHÂçöÂºà', subtitle: 'Áü•ËØÜÂ∫ì'},
        {title: 'ÂüéÂ∏ÇÂÜÖÊ∂ù', subtitle: 'Áü•ËØÜÂ∫ì'},
      ],

      individualInfo: {
        name: 'ÂÜÖÊ∂ù',
        basicInfo: 'ÂüéÂ∏ÇÂÜÖÊ∂ùÁöÑ‰∏ªË¶ÅÊàêÂõ†ÂåÖÊã¨‰ª•‰∏ãÂá†ÁÇπÔºö1. Áü≠Êó∂Âº∫ÈôçÈõ®ÔºöÂΩìÈôçÈõ®Âº∫Â∫¶Ë∂ÖËøáÂüéÂ∏ÇÊéíÊ∞¥Á≥ªÁªüÊâøËΩΩËÉΩÂäõÔºàÈÄöÂ∏∏Êåá1Â∞èÊó∂ÈôçÈõ®Èáè>50mmÔºâÔºåÂú∞Ë°®ÂæÑÊµÅÂø´ÈÄüÁßØËÅöÂΩ¢ÊàêÁßØÊ∞¥Ôºõ2. Âú∞ÂΩ¢Âà∂Á∫¶Ôºö‰ΩéÊ¥ºÂú∞Âå∫ÔºàÂ¶ÇÊ≤≥ÈÅìÂë®Ëæπ„ÄÅÂú∞‰∏ãÈÄöÈÅìÔºâÊòìÂΩ¢ÊàêÈõ®Ê∞¥Ê±áÈõÜÔºåÂú∞Èù¢Âù°Â∫¶<0.3%ÁöÑÂå∫ÂüüÊéíÊ∞¥ÊïàÁéá‰∏ãÈôç40%‰ª•‰∏äÔºõ3. ÊéíÊ∞¥ËÉΩÂäõ‰∏çË∂≥ÔºöËÄÅÊóßÁÆ°ÁΩëËÆæËÆ°Ê†áÂáÜ‰ΩéÔºàÈÄöÂ∏∏‰ªÖËÉΩÂ∫îÂØπ1-3Âπ¥‰∏ÄÈÅáÈôçÈõ®ÔºâÔºåÁÆ°ÂæÑÂÅèÂ∞è„ÄÅÊ∑§Â°ûÁéá>30%Êó∂‰ºöÂ§ßÂπÖÈôç‰ΩéËøáÊµÅËÉΩÂäõÔºõ4. Âú∞Ë°®Ê∏óÈÄèÂáèÂ∞ëÔºöÊ∑∑ÂáùÂúüË¶ÜÁõñÁéá>70%ÁöÑÂå∫ÂüüÔºåÈõ®Ê∞¥Ê∏óÈÄèÁéá‰∏ãÈôç90%ÔºåÂæÑÊµÅÁ≥ªÊï∞‰ªé0.3Â¢ûËá≥0.9ÔºåÊ±áÊµÅÈÄüÂ∫¶Âä†Âø´2-3ÂÄç„ÄÇ',
        relatedInfo: 'ÂüéÂ∏ÇÂÜÖÊ∂ùÁöÑ‰∫îÂ§ßÂΩ±ÂìçÂõ†Á¥†ÂåÖÊã¨Ôºö1. ÈôçÈõ®ÁâπÂæÅÔºöÂº∫Â∫¶„ÄÅÊó∂ÈïøÂíåÊó∂Á©∫ÂàÜÂ∏ÉÂØπÂÜÖÊ∂ùÂΩ±ÂìçÊùÉÈáçËææ90%Ôºõ2. Âú∞ÂΩ¢Âú∞Ë≤åÔºöÈ´òÁ®ãÔºàÂ¶Ç‰ΩéÊ¥ºÂå∫Ôºâ„ÄÅÂù°Â∫¶ÂíåÊ∞¥Á≥ªÂàÜÂ∏ÉÔºåÂΩ±ÂìçÊùÉÈáçÁ∫¶75%Ôºõ3. ÊéíÊ∞¥Á≥ªÁªüÔºöÁÆ°ÁΩëÂØÜÂ∫¶„ÄÅÊ≥µÁ´ôËÉΩÂäõÂíåÁÆ°ÂæÑÂåπÈÖçÂ∫¶ÔºåÂΩ±ÂìçÊùÉÈáç85%Ôºõ4. ÂüéÂ∏ÇËßÑÂàíÔºöÁªøÂú∞ÁéáÔºà<30%‰∏∫È´òÈ£éÈô©Ôºâ„ÄÅÈÄèÊ∞¥Èì∫Ë£ÖÂíåËìÑÊªûÁ©∫Èó¥ÔºåÂΩ±ÂìçÊùÉÈáç65%Ôºõ5. Â∫îÊÄ•ÁÆ°ÁêÜÔºöÈ¢ÑË≠¶ÂìçÂ∫îÈÄüÂ∫¶ÂíåÊéíÊ∂ùËÆæÂ§áË∞ÉÂ∫¶ÊïàÁéáÔºåÂΩ±ÂìçÊùÉÈáç55%„ÄÇ',
        imgUrl: require('../../assets/images/ÂÜÖÊ∂ù.jpg') // ÊõøÊç¢‰∏∫ÂÆûÈôÖÂÜÖÊ∂ùÂõæÁâáË∑ØÂæÑ
      },

      agentIconImg: [
          require('../../assets/images/cubaAgentIcons/Âè§Â∑¥ÂØºÂºπÂç±Êú∫.jpg'),
          require('../../assets/images/cubaAgentIcons/ÁæéÂõΩ.jpg'),
          require('../../assets/images/cubaAgentIcons/ËãèËÅî.jpg'),
          require('../../assets/images/cubaAgentIcons/Âè§Â∑¥.jpg'),
          require('../../assets/images/cubaAgentIcons/Á∫¶Áø∞„ÉªËÇØÂ∞ºËø™.jpg'),
          require('../../assets/images/cubaAgentIcons/Â∞ºÂü∫Â°î„ÉªËµ´È≤ÅÊôìÂ§´.jpg'),
          require('../../assets/images/cubaAgentIcons/Ëè≤Âæ∑Â∞î¬∑‰∫öÂéÜÊù≠Âæ∑ÁΩó¬∑Âç°ÊñØÁâπÁΩó¬∑È≤ÅÊñØ.jpg'),
          require('../../assets/images/cubaAgentIcons/ÂÜ∑Êàò.jpg'),
          require('../../assets/images/cubaAgentIcons/Áå™Êπæ‰∫ã‰ª∂.jpg'),
          require('../../assets/images/cubaAgentIcons/ÁæéËãèÊ†∏ÂÜõÂ§áÁ´ûËµõ.jpg'),
          require('../../assets/images/cubaAgentIcons/ËãèËÅîÂØºÂºπÈÉ®ÁΩ≤ÊàòÁï•.jpg'),
          require('../../assets/images/cubaAgentIcons/ËÅîÂêàÂõΩ.jpg'),
          require('../../assets/images/cubaAgentIcons/ÂØºÂºπÂèëÁé∞.jpg'),
          require('../../assets/images/cubaAgentIcons/ÁæéÂÜõÂ∞ÅÈîÅ.jpg'),
          require('../../assets/images/cubaAgentIcons/ËãèËÅîÊí§ÂØºÂºπ.jpg'),
          require('../../assets/images/cubaAgentIcons/ÂçèËÆÆËææÊàê.jpg'),
      ]
		}
	},
	mounted(){
		this.initKnowledgeMap();
    this.sliderChange([1959, 1962])
	},
	methods:{
    openPdfDialog(pdfPath) {
      this.selectedPdfPath = pdfPath;
      this.pdfDialogVisible = true;
    },
    handleClose(done) {
      this.selectedPdfPath = "";
      done();
    },
    radioChange(){
      if(this.modelRadio === 'Áü•ËØÜÂõæË∞±')
        this.initKnowledgeMap();
      else if(this.modelRadio === 'Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉ'){
        this.cardLoading = false;
      }
      else if(this.modelRadio === 'Â∫îÊÄ•È¢ÑÊ°à'){
        this.initSequenceChart();
        this.cardLoading = false;
      }
    },
    showWayTabsChange(tab){
      this.modelRadio = tab.paneName;
      if(this.modelRadio === 'Áü•ËØÜÂõæË∞±')
        this.initKnowledgeMap();
      else if(this.modelRadio === 'Ê≥ïÂæãÂèäÂõΩÂÆ∂ËßÑËåÉ'){
        this.cardLoading = false;
      }
      else if(this.modelRadio === 'Â∫îÊÄ•È¢ÑÊ°à'){
        this.initSequenceChart();
        this.cardLoading = false;
      }
    },
    itemCardClick(value){
      this.itemCardSelection = value
      console.log('click card, valueÔºö', value)
      request.post('/getKnowledgeNodeName', {
        baseName: value
      }).then((res) => {
        console.log('card click', res)
        this.individualOption = []
        for(let i = 0; i < res.data.length; i++)
          this.individualOption.push({label: res.data[i], value: i})
      })
    },
		async initKnowledgeMap(){
			this.cardLoading = true;
			await request.get('/getKnowledge').then(res => {
				this.cardLoading = false;
				console.log('ressss', res)
				this.knowledgeMapData = res.data.data
				this.knowledgeMapLinks = res.data.link
			})
			this.initChart()
		},
		initChart(){
			this.$nextTick(() => {
				this.knowledgeMapChart = echarts.init(document.getElementById('knowledgeMapChart'));
        this.knowledgeMapChart.resize();
				this.knowledgeMapOption = {
					tooltip: {},
					series: [{
						type: 'graph',
						layout: 'force',
						force: {
							repulsion: 150,
							edgeLength: 100
						},
						draggable: true,
						symbolSize: 30,
						roam: true,
						label: {
							show: true,
							fontSize: 10
						},
						edgeSymbol: ['circle', 'arrow'],
						edgeSymbolSize: [4, 4],
						edgeLabel: {
							show: false,
							fontSize: 12
						},
						data: this.knowledgeMapData,
						links: this.knowledgeMapLinks,
						lineStyle: {
							opacity: 0.9,
							width: 2,
							curveness: 0,
						},
					}],
					animationDurationUpdate: 1500,
					// animationEasingUpdate: 'quinticInOut',
				}
				this.knowledgeMapChart.setOption(this.knowledgeMapOption);
			})
		},
    sliderChange(value){
      console.log('slider', value);
      this.data = []
      for(let i = 0; i < this.originalData.length; i++){
        let year = this.originalData[i][0].timestamp.slice(0, 4)
        if(value[0] <= year && year <= value[1])
          this.data.push(this.originalData[i])
      }
      this.$nextTick(() =>{
        this.$refs.rowBarRef.update();
      })
    },
    getSequenceData(){
      let eventNum = 10;
      let rightPos = 1500;
      let heightPos = 800;
      let midPos = 0;
      let singleHeight = heightPos / (eventNum + 1)
      this.sequenceData = [
        {name: 'A1', x: 0, y: 0, symbol: 'image://' + this.imgUrl[0], symbolSize: [45, 30], label: {show: false}},
        {name: 'A2', x: 0, y: heightPos, symbol: 'none'},
        {name: 'S1', x: rightPos / 2, y: midPos, symbol: 'image://' + this.imgUrl[1], symbolSize: [45, 30], label: {show: false}},
        {name: 'S2', x: rightPos / 2, y: midPos + heightPos, symbol: 'none'},
        {name: 'G1', x: rightPos, y: 0, symbol: 'image://' + this.imgUrl[2], symbolSize: [45, 30], label: {show: false}},
        {name: 'G2', x: rightPos, y: heightPos, symbol: 'none'},
        // Âè§Â∑¥Èù©ÂëΩËÉúÂà©
        {
          name: '1959-01-01', x: rightPos, y: singleHeight,
          info: 'Âè§Â∑¥Èù©ÂëΩËÉúÂà©ÔºåÂª∫Á´ãÂè§Â∑¥ÂÖ±ÂíåÂõΩ',
          label: {
            show: true,
            position: 'left',
          }
        },
        // ÁæéÂõΩ‰∏éÂè§Â∑¥Êñ≠‰∫§Âπ∂ÂÆûÊñΩÁªèÊµéÂà∂Ë£Å
        {
          name: '1961-01-03', x: 0, y: singleHeight * 2,
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1961-01-03-1', x: rightPos, y: singleHeight * 2,
          label: {
            show: false,
            position: 'left',
          }
        },
        // Áå™ÊπæÂÖ•‰æµ Â§±Ë¥•
        {
          name: '1961-04-17', x: 0, y: singleHeight * 3,
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1961-04-17-1', x: rightPos, y: singleHeight * 3,
          label: {
            show: false,
            position: 'left',
          }
        },
        // ËãèËÅîÂú®Âè§Â∑¥ÈÉ®ÁΩ≤ÂØºÂºπ
        {
          name: '1962-07-17', x: rightPos / 2, y: midPos + singleHeight * 4,
          info: 'Ëµ´È≤ÅÊôìÂ§´',
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1962-07-17-1', x: rightPos, y: singleHeight * 4,
          info: 'Ë¥πÂæ∑Â∞î¬∑Âç°ÊñØÁâπÁΩó',
          label: {
            show: false,
            position: 'left',
          }
        },
        // ÁæéÂõΩÂèëÁé∞ÂØºÂºπ
        {
          name: '1962-10-14', x: 0, y: singleHeight * 5,
          info: '‰∏≠Â§ÆÊÉÖÊä•Â±ÄÂèëÁé∞ÂØºÂºπÂü∫Âú∞',
          label: {
            show: true,
            position: 'left',
          }
        },
        // ÁæéÂõΩÂØπÂè§Â∑¥ÂÆûÊñΩÊµ∑‰∏äÈöîÁ¶ª
        {
          name: '1962-10-22', x: 0, y: singleHeight * 6,
          info: 'Á∫¶Áø∞¬∑F¬∑ËÇØÂ∞ºËø™',
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1962-10-22-1', x: rightPos, y: singleHeight * 6,
          label: {
            show: false,
            position: 'left',
          }
        },
        // ËãèËÅîÊèêÂá∫Êí§Èô§ÂØºÂºπÁöÑÊù°‰ª∂
        {
          name: '1962-10-26', x: rightPos / 2, y: midPos + singleHeight * 7,
          info: 'Ëµ´È≤ÅÊôìÂ§´',
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1962-10-26-1', x: 0, y: singleHeight * 7,
          info: 'Á∫¶Áø∞¬∑F¬∑ËÇØÂ∞ºËø™',
          label: {
            show: false,
            position: 'left',
          }
        },
        // ËãèËÅî ‚Üí Âè§Â∑¥ ÂÆ£Â∏ÉÊí§Èô§ÂØºÂºπ
        {
          name: '1962-10-28', x: rightPos / 2, y: midPos + singleHeight * 8,
          info: 'ËãèËÅî',
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1962-10-28-1', x: rightPos, y: singleHeight * 8,
          info: 'Âè§Â∑¥',
          label: {
            show: false,
            position: 'left',
          }
        },
        // ÂØºÂºπÊí§Á¶ªÂÆåÊàê
        {
          name: '1962-11-19', x: rightPos, y: singleHeight * 9,
          info: 'ÂØºÂºπÊí§Á¶ªÂÆåÊàê',
          label: {
            show: true,
            position: 'left',
          }
        },
        // ÁæéÂõΩÁªìÊùüÂØπÂè§Â∑¥ÁöÑÊµ∑‰∏äÂ∞ÅÈîÅ
        {
          name: '1962-11-20', x: 0, y: singleHeight * 10,
          info: 'ÁæéÂõΩ',
          label: {
            show: true,
            position: 'left',
          }
        },
        {
          name: '1962-11-20-1', x: rightPos, y: singleHeight * 10,
          info: 'Âè§Â∑¥',
          label: {
            show: false,
            position: 'left',
          }
        },
      ]
      this.sequenceLink = [
        {source: 'A1', target: 'A2', symbol: ['none', 'none'], lineStyle: {width: 5} },
        {source: 'S1', target: 'S2', symbol: ['none', 'none'], lineStyle: {width: 5} },
        {source: 'G1', target: 'G2', symbol: ['none', 'none'], lineStyle: {width: 5} },
        {
          source: '1961-01-03', target: '1961-01-03-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'solid'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'Êñ≠‰∫§Âπ∂ÂÆûÊñΩÁªèÊµéÂà∂Ë£Å',
          }
        },
        {
          source: '1961-04-17', target: '1961-04-17-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'solid'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'Áå™ÊπæÂÖ•‰æµÂ§±Ë¥•',
          }
        },
        {
          source: '1962-07-17', target: '1962-07-17-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'dotted'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'ÁßòÂØÜÂçèËÆÆÈÉ®ÁΩ≤ÂØºÂºπ',
          }
        },
        {
          source: '1962-10-22', target: '1962-10-22-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'solid'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'ÂÆ£Â∏ÉÂØπÂè§Â∑¥ÂÆûÊñΩÊµ∑‰∏äÈöîÁ¶ª',
          }
        },
        {
          source: '1962-10-26', target: '1962-10-26-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'dotted'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'ÊèêÂá∫Êí§Èô§ÂØºÂºπÊù°‰ª∂',
          }
        },
        {
          source: '1962-10-28', target: '1962-10-28-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'dotted'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'ÂÆ£Â∏ÉÊí§Èô§ÂØºÂºπ',
          }
        },
        {
          source: '1962-11-20', target: '1962-11-20-1',
          symbol: ['none', 'arrow'],
          lineStyle: {
            type: 'solid'
          },
          label: {
            show: true,
            fontSize: 14,
            formatter: 'ÁªìÊùüÂØπÂè§Â∑¥ÁöÑÊµ∑‰∏äÂ∞ÅÈîÅ',
          }
        },
      ]
    },
    initSequenceChart(){
      this.$nextTick(() => {
        this.getSequenceData();
        this.sequenceChart = echarts.init(document.getElementById('sequenceChart'));
        this.sequenceChart.resize();
        this.sequenceOption = {
          tooltip: {},
          animationDurationUpdate: 1500,
          animationEasingUpdate: 'quinticInOut',
          series: [
            {
              type: 'graph',
              layout: 'none',
              tooltip: {//ÊèêÁ§∫Ê°Ü
                show: true,
                trigger: 'item',
                triggerOn: 'mousemove',
                enterable: true,
                formatter: this.formatterHover,
              },
              symbolSize: 10,
              roam: true,
              label: {show: false},
              edgeSymbol: ['circle', 'arrow'],
              edgeSymbolSize: [4, 10],
              edgeLabel: {fontSize: 20},
              data: this.sequenceData,
              links: this.sequenceLink,
              lineStyle: {
                opacity: 0.9,
                width: 2,
                curveness: 0
              }
            }
          ]
        }
        this.sequenceChart.setOption(this.sequenceOption);
      })
    },
    dataImport(){
      this.dataImportDialog = !this.dataImportDialog;
    },
    async checkIndividualData(){
      this.cardLoading = true;
      await request.post('/getCubaKnowledge', {
        type: this.showWayRadio,
        baseName: this.itemCardSelection,
        nodeName: this.individualOption[this.individualSelection].label,
      }).then(res => {
        console.log(res)
        this.cardLoading = false;
        this.individualInfo = {
          name: res.data.name,
          basicInfo: res.data.background,
          relatedInfo: '',
          imgUrl: this.agentIconImg[parseInt(res.data.id) - 1]
        }
        this.descriptionItemLabel = res.data.attributes;
        this.knowledgeMapData = res.base_data
        this.knowledgeMapLinks = res.links

        this.knowledgeMapOption.series[0].symbolSize = 50;
        this.knowledgeMapOption.series[0].label.fontSize = 14;
        this.knowledgeMapOption.series[0].force = {
          repulsion: 150,
          edgeLength: 150
        };
        this.knowledgeMapOption.series[0].data = this.knowledgeMapData;
        this.knowledgeMapOption.series[0].links = this.knowledgeMapLinks;
        this.knowledgeMapChart.setOption(this.knowledgeMapOption);
      })
    }
	}
}
</script>

<style scoped>
.pdf-card {
  margin: 10px;
  cursor: pointer;
  transition: all 0.3s;
}

.pdf-card:hover {
  background-color: #f5f5f5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.el-dialog__body {
  padding: 0;
}
.card-class{
  background-color: #25313D;
  width: 50%;
  border: 0;
}
.click-item-card{
  width: 100%;
  margin: 5px 0;
  border: 0;
  cursor: pointer;
}
.click-item-card-unselected{
  background-color: #2D3F4D;
}
.click-item-card-selected{
  background-color: #577a95;
}
.click-item-card-content{
  color: #fff;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  font-family: "Microsoft YaHei", serif;
}
.card-header{
  width: calc(100% + 40px);
  margin-left: -20px;
  height: 50px;
  display: flex;
  align-items: center;
  color: #FFF;
  font-size: 16px;
  font-weight: bold;
  padding: 10px;
  background-color: #2d3f4d;
}
.card-body{
  font-family: "Microsoft YaHei", serif;
  font-size: 16px;
  font-weight: bold;
  padding: 0 20px;
  color: #FFF;
}
.cell-item{
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100px;
}
:deep(.descriptions-class .el-descriptions__body){
  background-color: transparent;
  color: #FFF;
  width: 100%;
  --el-descriptions-table-border: 0;
}
:deep(.label-class){
  background: rgba(0, 0, 0, 0) !important;
}
:deep(.content-class){
  background: transparent;
}
.radio-btn{
  --el-radio-button-checked-background-color: #577a95;
  --el-radio-button-checked-border-color: #577a95;
  --el-radio-button-checked-font-color: #fff;
}
:deep(.select-class.el-select){
  --el-select-border-color-hover: #598cb5 !important;
  --el-select-input-focus-border-color: #559ad1 !important;
}
:deep(.input-class .el-input){
  --el-input-background-color: transparent;
  --el-input-border-color: #375575;
  --el-input-font-color: #fff;
  --el-input-border: 1px solid #577a95;
}
:deep(.el-radio-button__inner){
  padding: 10px 20px;
  color: #fff;
  background-color: #25313D;
  border: 1px solid #375575;
}
:deep(.left-radio-btn .el-radio-button__inner){
  border-left: 1px solid #375575;
}
:deep(.el-tabs__active-bar){
  background-color: #577a95;
}

:deep(.el-tabs__item){
  color: #b8b3b3;
}
:deep(.el-tabs__item.is-active){
  color: #FFF;
}
:deep(.el-tabs-item-card .el-tabs__item.is-active){
  color: #FFF;
  background-color: #577a95;
  border-bottom: 2px solid #0056b6;
}
:deep(.el-tabs-item-card .el-tabs__item){
  border-left: 0;
}
:deep(.query-btn.el-button){
  --el-button-background-color: #18395c;
  --el-button-border-color: #092d57;
  --el-button-hover-color: #0b498e;
  --el-button-active-background-color: #226bba;
}
:deep(.el-tabs--card>.el-tabs__header .el-tabs__nav){
  border: 0;
}
:deep(.narrow-tab .el-tabs__item){
  padding: 0 10px;
}
</style>